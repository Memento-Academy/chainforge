<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChainForge — Interactive Blockchain Simulator</title>
    <meta
      name="description"
      content="An interactive, educational blockchain simulator built with JavaScript. Explore proof-of-work mining, transactions, and chain validation in real time."
    />
    <meta
      property="og:title"
      content="ChainForge — Interactive Blockchain Simulator"
    />
    <meta
      property="og:description"
      content="Learn blockchain fundamentals interactively. Create transactions, mine blocks, and verify chain integrity — all running in your browser."
    />
    <meta property="og:type" content="website" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Mining Overlay -->
    <div class="mining-overlay" id="miningOverlay">
      <div class="mining-spinner"></div>
      <div class="mining-text">Mining block...</div>
      <div class="mining-sub" id="miningStatus">Finding valid hash</div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <div class="container">
      <!-- Header -->
      <header>
        <h1>ChainForge</h1>
        <p class="subtitle">Interactive Blockchain Simulator</p>
      </header>

      <!-- Status Bar -->
      <div class="status-bar">
        <div class="status-item">
          Blocks <span class="value" id="blockCount">1</span>
        </div>
        <div class="status-item">
          Difficulty <span class="value" id="difficultyValue">2</span>
        </div>
        <div class="status-item">
          Mining Reward <span class="value" id="rewardValue">100</span>
        </div>
        <div class="status-item">
          Chain Valid <span class="value" id="chainValid">Yes</span>
        </div>
      </div>

      <!-- Action Panels -->
      <div class="grid">
        <!-- New Transaction -->
        <div class="panel">
          <div class="panel-title">New Transaction</div>
          <form id="transactionForm">
            <div class="form-group">
              <label for="txFrom">From</label>
              <input
                type="text"
                id="txFrom"
                placeholder="e.g. Alice"
                required
                autocomplete="off"
              />
            </div>
            <div class="form-group">
              <label for="txTo">To</label>
              <input
                type="text"
                id="txTo"
                placeholder="e.g. Bob"
                required
                autocomplete="off"
              />
            </div>
            <div class="form-group">
              <label for="txAmount">Amount</label>
              <input
                type="number"
                id="txAmount"
                placeholder="e.g. 50"
                min="0.01"
                step="0.01"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">
              Add Transaction
            </button>
          </form>
        </div>

        <!-- Mine Block -->
        <div class="panel mine-section">
          <div class="panel-title">Mine Block</div>
          <div class="mine-input-row">
            <div class="form-group">
              <label for="minerAddress">Miner Address</label>
              <input
                type="text"
                id="minerAddress"
                placeholder="e.g. Miner1"
                value="Miner1"
                autocomplete="off"
              />
            </div>
          </div>
          <button class="btn btn-mine" id="mineBtn" onclick="mineBlock()">
            Mine Pending Transactions
          </button>
          <p class="pending-count">
            Pending transactions: <strong id="pendingCount">0</strong>
          </p>

          <!-- Pending Transactions List -->
          <div id="pendingList" style="margin-top: 16px"></div>
        </div>
      </div>

      <!-- Balances -->
      <section class="balances-section">
        <div class="section-title">Address Balances</div>
        <div class="balances-grid" id="balancesGrid">
          <div class="empty-state">
            <p>Balances will appear after mining</p>
          </div>
        </div>
      </section>

      <!-- Blockchain Display -->
      <section class="chain-section">
        <div class="section-title">Blockchain</div>
        <div class="chain-container" id="chainContainer">
          <!-- Blocks rendered here -->
        </div>
      </section>

      <!-- Validation -->
      <section class="validation-section">
        <div id="validationResult" class="validation-result valid">
          Chain integrity verified
        </div>
      </section>

      <!-- Footer -->
      <footer>
        <p>
          Built with precision for <strong>ChainForge</strong> &mdash;
          <a
            href="https://github.com/CallejaJ/simple-blockchain"
            target="_blank"
            rel="noopener"
            >Source Code</a
          >
        </p>
      </footer>
    </div>

    <script type="module" src="app.js"></script>
  </body>
</html>
